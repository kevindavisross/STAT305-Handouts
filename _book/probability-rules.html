<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>8&nbsp; Probability Rules – STAT 305 Handouts</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./independence.html" rel="next">
<link href="./conditioning.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-364982630eef5352dd1537128a8ed5cb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./probability-rules.html"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Probability Rules</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">STAT 305 Handouts</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./randomness-and-probability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Randomness and Probability</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./working-with-probabilities.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Working with Probabilities</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./interpreting-probabilities.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Interpreting Probabilities and “Expected” Values</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./outcomes-events-rvs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Outcomes, Events, and Random Variables</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability-models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Probability Models</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro-to-distributions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Distributions of Random Variables (A Brief Introduction)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conditioning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conditioning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./probability-rules.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Probability Rules</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./independence.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Independence</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Probability Rules</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="multiplication-rule" class="level2" data-number="8.1">
<h2 data-number="8.1" class="anchored" data-anchor-id="multiplication-rule"><span class="header-section-number">8.1</span> Multiplication rule</h2>
<ul>
<li>Rearranging the definition of conditional probability we get the <strong>Multiplication rule:</strong> the probability that two events both occur is <span class="math display">\[
\begin{aligned}
\text{P}(A \cap B) &amp; = \text{P}(A|B)\text{P}(B)\\
&amp; = \text{P}(B|A)\text{P}(A)
\end{aligned}
\]</span></li>
<li>The multiplication rule says that you should think “multiply” when you see “and”.</li>
<li>However, be careful about <em>what</em> you are multiplying: to find a joint probability you need an unconditional and an appropriate conditional probability.</li>
<li>You can condition either on <span class="math inline">\(A\)</span> or on <span class="math inline">\(B\)</span>, provided you have the appropriate marginal probability; often, conditioning one way is easier than the other.</li>
<li>Be careful: the multiplication rule does <em>not</em> say that <span class="math inline">\(\text{P}(A\cap B)\)</span> is the same as <span class="math inline">\(\text{P}(A)\text{P}(B)\)</span>.<br>
</li>
<li>The multiplication rule is useful in situations where conditional probabilities are easier to obtain directly than joint probabilities.</li>
</ul>
<div id="exm-card-multiplication-rule" class="theorem example">
<p><span class="theorem-title"><strong>Example 8.1</strong></span> A standard deck of playing cards has 52 cards, 13 cards (2 through 10, jack, king, queen, ace) in each of 4 suits (hearts, diamonds, clubs, spades). Shuffle a deck and deals cards one at a time without replacement.</p>
</div>
<ol type="1">
<li>Find the probability that the first card dealt is a heart.<br>
<br>
<br>
<br>
<br>
</li>
<li>If the first card dealt is a heart, determine the conditional probability that the second card is a heart.<br>
<br>
<br>
<br>
<br>
</li>
<li>Find the probability that the first two cards dealt are hearts.<br>
<br>
<br>
<br>
<br>
</li>
<li>Find the probability that the first two cards dealt are hearts and the third card dealt is a diamond.<br>
<br>
<br>
<br>
<br>
</li>
</ol>
<ul>
<li>The multiplication rule extends naturally to more than two events (though the notation gets messy). For three events, we have <span class="math display">\[
\text{P}(A_1 \cap A_2 \cap A_3) = \text{P}(A_1)\text{P}(A_2|A_1)\text{P}(A_3|A_1\cap A_2)
\]</span></li>
<li>And in general, <span class="math display">\[
\text{P}(A_1\cap A_2 \cap A_3 \cap A_4 \cap \cdots) = \text{P}(A_1)\text{P}(A_2|A_1)\text{P}(A_3|A_1\cap A_2)\text{P}(A_4|A_1\cap A_2 \cap A_4)\cdots
\]</span></li>
<li>The multiplication rule is useful for computing probabilities of events that can be broken down into component “stages” where conditional probabilities at each stage are readily available. At each stage, condition on the information about all previous stages.</li>
</ul>
<div id="exm-birthday" class="theorem example">
<p><span class="theorem-title"><strong>Example 8.2</strong></span> The <a href="https://pudding.cool/2018/04/birthday-paradox/">birthday problem</a> concerns the probability that at least two people in a group of <span class="math inline">\(n\)</span> people have the same birthday<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>. Ignore multiple births and February 29 and assume that the other 365 days are all equally likely<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a>.</p>
</div>
<ol type="1">
<li>If <span class="math inline">\(n=30\)</span>, what do you think the probability that at least two people share a birthday is: 0-20%, 20-40%, 40-60%, 60-80%, 80-100%? How large do you think <span class="math inline">\(n\)</span> needs to be in order for the probability that at least two people share a birthday to be larger than 0.5? Just make guesses before proceeding to calculations.<br>
<br>
<br>
<br>
<br>
</li>
<li>Now consider <span class="math inline">\(n=3\)</span> people, labeled 1, 2, and 3. What is the probability that persons 1 and 2 have different birthdays?<br>
<br>
<br>
<br>
<br>
</li>
<li>What is the probability that persons 1, 2, and 3 all have different birthdays <em>given</em> that persons 1 and 2 have different birthdays?<br>
<br>
<br>
<br>
<br>
</li>
<li>What is the probability that persons 1, 2, and 3 all have different birthdays?<br>
<br>
<br>
<br>
<br>
</li>
<li>When <span class="math inline">\(n = 3\)</span>. What is the probability that at least two people share a birthday?<br>
<br>
<br>
<br>
<br>
</li>
<li>For <span class="math inline">\(n=30\)</span>, find the probability that none of the people have the same birthday.<br>
<br>
<br>
<br>
<br>
</li>
<li>For <span class="math inline">\(n=30\)</span>, find the probability that at least two people have the same birthday.<br>
<br>
<br>
<br>
<br>
</li>
<li>Write a clearly worded sentence interpreting the probability in the previous part as a long run relative frequency.<br>
<br>
<br>
<br>
<br>
</li>
<li>When <span class="math inline">\(n=100\)</span> the probability is about 0.9999997.<br>
If you are in a group of 100 people and no one shares your birthday, should you be surprised? Discuss.<br>
<br>
<br>
<br>
<br>
</li>
</ol>
</section>
<section id="law-of-total-probability" class="level2" data-number="8.2">
<h2 data-number="8.2" class="anchored" data-anchor-id="law-of-total-probability"><span class="header-section-number">8.2</span> Law of total probability</h2>
<div id="exm-impeach-ltp" class="theorem example">
<p><span class="theorem-title"><strong>Example 8.3</strong></span> Suppose that</p>
<ul>
<li>67% of Democrats believe in human-driven climate</li>
<li>46% of Independents believe in human-driven climate</li>
<li>34% of Republicans believe in human-driven climate</li>
</ul>
<p>Also suppose that</p>
<ul>
<li>28% of American adults are Democrats</li>
<li>42% of American adults are Independents</li>
<li>30% of American adults are Republicans</li>
</ul>
<p>Randomly select an American adult. Compute the probability that the selected person believes in human-driven climate change.</p>
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p>
</div>
<ul>
<li><strong>Law of total probability.</strong> If <span class="math inline">\(C_1,\ldots, C_k\)</span> are disjoint with <span class="math inline">\(C_1\cup \cdots \cup C_k=\Omega\)</span>, then <span class="math display">\[\begin{align*}
\text{P}(A) &amp; = \sum_{i=1}^k \text{P}(A \cap C_i)\\
&amp; = \sum_{i=1}^k \text{P}(A|C_i) \text{P}(C_i)
\end{align*}\]</span></li>
<li>The events <span class="math inline">\(C_1, \ldots, C_k\)</span>, which represent the “cases”, form a <em>partition</em> of the sample space; each outcome <span class="math inline">\(\omega\in\Omega\)</span> lies in exactly one of the <span class="math inline">\(C_i\)</span>.</li>
<li>The law of total probability says that we can interpret the unconditional probability <span class="math inline">\(\text{P}(A)\)</span> as a probability-weighted average of the case-by-case conditional probabilities <span class="math inline">\(\text{P}(A|C_i)\)</span> where the weights <span class="math inline">\(\text{P}(C_i)\)</span> represent the probability of encountering each case.</li>
<li>Conditioning and using the law of probability is an effective strategy in solving many problems, even when the problem doesn’t seem to involve conditioning.</li>
<li>For example, when a problem involves iterations or steps it is often useful to <em>condition on the result of the first step</em>.</li>
</ul>
<div id="exm-lookaway" class="theorem example">
<p><span class="theorem-title"><strong>Example 8.4</strong></span> You and your friend are playing the <a href="https://fivethirtyeight.com/features/what-are-your-chances-of-winning-the-u-s-open/">“lookaway challenge”</a>.</p>
<p>The game consists of possibly multiple rounds. In the first round, you point in one of four directions: up, down, left or right. At the exact same time, your friend also looks in one of those four directions. If your friend looks in the same direction you’re pointing, you win! Otherwise, you switch roles and the game continues to the next round — now your friend points in a direction and you try to look away. As long as no one wins, you keep switching off who points and who looks. The game ends, and the current “pointer” wins, whenever the “looker” looks in the same direction as the pointer.</p>
<p>Suppose that each player is equally likely to point/look in each of the four directions, independently from round to round. What is the probability that you win the game?</p>
</div>
<ol type="1">
<li>Why might you expect the probability to not be equal to 0.5?<br>
<br>
<br>
<br>
<br>
</li>
<li>If you start as the pointer, what is the probability that you win in the first round?<br>
<br>
<br>
<br>
<br>
</li>
<li>If <span class="math inline">\(p\)</span> denotes the probability that the player who starts as the pointer wins the game, what is the probability that the player who starts as the looker wins the game? (Note: <span class="math inline">\(p\)</span> is the probability that the person who starts as pointer wins the whole game, not just the first round.)<br>
<br>
<br>
<br>
<br>
</li>
<li>Let <span class="math inline">\(A\)</span> be the event that the person who starts as the pointer wins the game, and <span class="math inline">\(B\)</span> be the event that the person who starts as the pointer wins in the first round. What is <span class="math inline">\(\text{P}(A|B)\)</span>?<br>
<br>
<br>
<br>
<br>
</li>
<li>Find a simple expression for <span class="math inline">\(\text{P}(A | B^c)\)</span> in terms of <span class="math inline">\(p\)</span>. The key is to consider this question: if the player who starts as the pointer does not win in the first round, how does the game behave from that point forward?<br>
<br>
<br>
<br>
<br>
</li>
<li>Condition on the result of the first round and set up an equation to solve for <span class="math inline">\(p\)</span>.<br>
<br>
<br>
<br>
<br>
</li>
<li>Interpret the probability from the previous part.<br>
<br>
<br>
<br>
<br>
</li>
</ol>
</section>
<section id="bayes-rule" class="level2" data-number="8.3">
<h2 data-number="8.3" class="anchored" data-anchor-id="bayes-rule"><span class="header-section-number">8.3</span> Bayes Rule</h2>
<div id="exm-impeach2-bayes" class="theorem example">
<p><span class="theorem-title"><strong>Example 8.5</strong></span> Suppose that</p>
<ul>
<li>67% of Democrats believe in human-driven climate</li>
<li>46% of Independents believe in human-driven climate</li>
<li>34% of Republicans believe in human-driven climate</li>
</ul>
<p>Also suppose that</p>
<ul>
<li>28% of American adults are Democrats</li>
<li>42% of American adults are Independents</li>
<li>30% of American adults are Republicans</li>
</ul>
<p>Randomly select an American adult. Compute the conditional probability that the selected adult is a Democrat given that they believe in human-driven climate change.<br>
<br>
<br>
<br>
<br>
</p>
</div>
<ul>
<li><strong>Bayes’ rule for events</strong> specifies how a prior probability <span class="math inline">\(P(H)\)</span> of event <span class="math inline">\(H\)</span> is updated in response to the evidence <span class="math inline">\(E\)</span> to obtain the posterior probability <span class="math inline">\(P(H|E)\)</span>. <span class="math display">\[
\text{P}(H|E) = \frac{\text{P}(E|H)\text{P}(H)}{\text{P}(E)}
\]</span></li>
<li>Event <span class="math inline">\(H\)</span> represents a particular hypothesis (or model or case)</li>
<li>Event <span class="math inline">\(E\)</span> represents observed evidence (or data or information)</li>
<li><span class="math inline">\(\text{P}(H)\)</span> is the unconditional or <strong>prior probability</strong> of <span class="math inline">\(H\)</span> (prior to observing evidence <span class="math inline">\(E\)</span>)</li>
<li><span class="math inline">\(\text{P}(H|E)\)</span> is the conditional or <strong>posterior probability</strong> of <span class="math inline">\(H\)</span> after observing evidence <span class="math inline">\(E\)</span>.</li>
<li><span class="math inline">\(\text{P}(E|H)\)</span> is the <strong>likelihood</strong> of evidence <span class="math inline">\(E\)</span> given hypothesis (or model or case) <span class="math inline">\(H\)</span></li>
</ul>
<div id="exm-bayes-rule2" class="theorem example">
<p><span class="theorem-title"><strong>Example 8.6</strong></span> Continuing the previous example. Randomly select an American adult.</p>
</div>
<ol type="1">
<li>Consider the conditional probability that the selected adult is a Democrat given that they believe in human-driven climate change. Identify the prior probability, hypothesis, evidence, likelihood, and posterior probability.<br>
<br>
<br>
<br>
<br>
</li>
<li>Compute the conditional probability that the selected adult is a Republican given that they believe in human-driven climate change.<br>
<br>
<br>
<br>
<br>
</li>
<li>How many times more likely is it for an American adult to be a Democrat than be be a Republican?<br>
<br>
<br>
<br>
<br>
</li>
<li>How many times more likely is it for an American adult to believe in human-driven climate change given that they are a Democrat than given that they are a Republican?<br>
<br>
<br>
<br>
<br>
</li>
<li>How many times more likely is it for an American adult who believes in human-driven climate change to be a Democrat than to be a Republican?<br>
<br>
<br>
<br>
<br>
</li>
<li>How are the values in the three previous parts related?<br>
<br>
<br>
<br>
<br>
</li>
<li>Compute the conditional probability that the selected adult is an Independent given that they believe in human-driven climate change.<br>
<br>
<br>
<br>
<br>
</li>
<li>How many times more likely is it for an American adult to be an Independent than be be a Republican?<br>
<br>
<br>
<br>
<br>
</li>
<li>How many times more likely is it for an American adult to believe in human-driven climate change given that they are an Independent than given that they are a Republican?<br>
<br>
<br>
<br>
<br>
</li>
<li>How many times more likely is it for an American adult who believes in human-driven climate change to be an Independent than to be a Republican?<br>
<br>
<br>
<br>
<br>
</li>
<li>How are the values in the three previous parts related?<br>
<br>
<br>
<br>
<br>
</li>
</ol>
<ul>
<li>Bayes rule is often used when there are multiple hypotheses or cases. Suppose <span class="math inline">\(H_1,\ldots, H_k\)</span> is a series of distinct hypotheses which together account for all possibilities, and <span class="math inline">\(E\)</span> is any event (evidence).</li>
<li>Combining Bayes’ rule with the law of total probability, <span class="math display">\[\begin{align*}
P(H_j |E) &amp; = \frac{P(E|H_j)P(H_j)}{P(E)}\\
&amp; = \frac{P(E|H_j)P(H_j)}{\sum_{i=1}^k P(E|H_i) P(H_i)}\\
&amp; \\
P(H_j |E) &amp; \propto P(E|H_j)P(H_j)
\end{align*}\]</span></li>
<li>The symbol <span class="math inline">\(\propto\)</span> is read “is proportional to”. The relative <em>ratios</em> of the posterior probabilities of different hypotheses are determined by the product of the prior probabilities and the likelihoods, <span class="math inline">\(P(E|H_j)P(H_j)\)</span>. The marginal probability of the evidence, <span class="math inline">\(P(E)\)</span>, in the denominator simply normalizes the numerators to ensure that the updated conditional probabilities given the evidence sum to 1 over all the distinct hypotheses.</li>
<li><strong>In short, Bayes’ rule says</strong> <span class="math display">\[
\textbf{posterior} \propto \textbf{likelihood} \times \textbf{prior}
\]</span></li>
</ul>
<div id="exm-bayes-marbles" class="theorem example">
<p><span class="theorem-title"><strong>Example 8.7</strong></span> Suppose that you are presented with six boxes, labeled 0, 1, 2, <span class="math inline">\(\ldots\)</span>, 5, each containing five marbles. Box 0 contains 0 green and 5 gold marbles, box 1 contains 1 green and 4 gold, and so on with box <span class="math inline">\(i\)</span> containing <span class="math inline">\(i\)</span> green and <span class="math inline">\(5-i\)</span> gold. One of the boxes is chosen uniformly at random (perhaps by rolling a fair six-sided die), and then you will randomly select marbles from that box, without replacement. Imagine the boxes appear identical and you can’t see inside; all you observe is the color of the marbles you select. Based on the colors of the marbles selected, you will update the probabilities of which box had been chosen.</p>
<ol type="1">
<li>Suppose that a single marble is selected and it is green. Which box do you think is the most likely to have been chosen? Make a guess for the posterior probabilities for each box. Then construct a Bayes table to compute the posterior probabilities. How do they compare to the prior probabilities?<br>
<br>
<br>
<br>
<br>
</li>
<li>Now suppose a second marble is selected from the same box, without replacement, and its color is gold. Which box do you think is the most likely to have been chosen given these two marbles? Make a guess for the posterior probabilities for each box. Then construct a Bayes table to compute the posterior probabilities, <em>using the posterior probabilities from the previous part after the selection of the green marble as the new prior probabilities before seeing the gold marble.</em><br>
<br>
<br>
<br>
<br>
</li>
<li>Now construct a Bayes table corresponding to the original prior probabilities (1/6 each) and the combined evidence that the first ball selected was green and the second was gold. How do the posterior probabilities compare to the previous part?<br>
<br>
<br>
<br>
<br>
</li>
</ol>
</div>
<ul>
<li>Bayesian analysis is often an iterative process.</li>
<li>Posterior probabilities are updated after observing some information or data. These probabilities can then be used as prior probabilities before observing new data.</li>
<li>Posterior probabilities can be sequentially updated as new data becomes available, with the posterior probabilities after the previous stage serving as the prior probabilities for the next stage.</li>
<li>The final posterior probabilities only depend upon the cumulative data. It doesn’t matter if we sequentially update the posterior after each new piece of data or only once after all the data is available; the final posterior probabilities will be the same either way. Also, the final posterior probabilities are not impacted by the order in which the data are observed.</li>
</ul>


</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>You should really click on <a href="https://pudding.cool/2018/04/birthday-paradox/">this birthday problem link</a>.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Which isn’t <a href="https://visme.co/blog/most-common-birthday/">quite</a> <a href="http://thedailyviz.com/2016/09/17/how-common-is-your-birthday-dailyviz/">true</a>. However, a non-uniform distribution of birthdays only increases the probability that at least two people have the same birthday. To see that, think of an extreme case like if everyone were born in September.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./conditioning.html" class="pagination-link" aria-label="Conditioning">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Conditioning</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./independence.html" class="pagination-link" aria-label="Independence">
        <span class="nav-page-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Independence</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>